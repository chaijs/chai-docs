<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Assertion Styles - Chai</title>
    <link rel="icon" type="image/x-icon" href="/public/img/favicon.ico">
    <script type="text/javascript">
      var ghuser = 'logicalparadox'
        , ghproject = 'chai';
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="/public/js/jquery-mousewheel.js"></script>
    <script src="/public/js/antiscroll.js"></script>
    <script src="/public/js/main.js?2.1.0"></script>
    <script src="/public/js/guide.js"></script>
    <link rel="stylesheet" href="/public/css/antiscroll.css?2.1.0" type="text/css" media="all">
    <link rel="stylesheet" href="/public/css/main.css?2.1.0" type="text/css" media="all">
    <script type="text/javascript">
      var mpq = [];
      mpq.push(["init", "d5e84615dbd02dbc359b0f76d0ed7cf5"]);
      (function(){var b,a,e,d,c;b=document.createElement("script");b.type="text/javascript";
      b.async=true;b.src=(document.location.protocol==="https:"?"https:":"http:")+
      "//api.mixpanel.com/site_media/js/api/mixpanel.js";a=document.getElementsByTagName("script")[0];
      a.parentNode.insertBefore(b,a);e=function(f){return function(){mpq.push(
      [f].concat(Array.prototype.slice.call(arguments,0)))}};d=["init","track","track_links",
      "track_forms","register","register_once","identify","name_tag","set_config"];for(c=0;c<
      d.length;c++){mpq[d[c]]=e(d[c])}})();
    </script>
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-26183904-6']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>
  <body class="guide">
    <nav id="primary">
      <div class="nav-wrap">
        <div class="logo">
          <h1><a href="/">Chai Assertion Library</a></h1>
        </div>
        <div class="navlist">
          <ul>
            <li><a href="/guide">Guide</a></li>
            <li><a href="/api" class="">API</a></li>
            <li><a href="/plugins">Plugins</a></li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="content">
      <section id="content">
        <nav id="guide" class="sidebar sticky">
          <div id="guide-index" class="item primary "><span class="star"></span><a href="/guide/" class="title">Getting Started Guide</a></div>
          <div class="line"></div>
          <div id="installation" class="item primary "><span class="expand">+</span><span class="collapse">-</span><a href="/guide/installation/" class="title">Installation</a></div>
          <div id="installation" class="subitems"><a href="/guide/installation/#node" id="node" class="item secondary group-installation">Node</a><a href="/guide/installation/#browser" id="browser" class="item secondary group-installation">Browser</a><a href="/guide/installation/#other" id="other" class="item secondary group-installation">Other Platforms</a>
          </div>
          <div id="styles" class="item primary active expanded"><span class="expand">+</span><span class="collapse">-</span><a href="/guide/styles/" class="title">Assertion Styles</a></div>
          <div id="styles" class="subitems"><a href="#assert" id="assert" class="item secondary expanded scroll group-styles">Assert</a><a href="#expect" id="expect" class="item secondary expanded scroll group-styles">Expect</a><a href="#should" id="should" class="item secondary expanded scroll group-styles">Should</a><a href="#differences" id="differences" class="item secondary expanded scroll group-styles">Differences</a><a href="#should-extras" id="should-extras" class="item secondary expanded scroll group-styles">Should Extras</a><a href="#configure" id="configure" class="item secondary expanded scroll group-styles">Configuration</a>
          </div>
          <div id="plugins" class="item primary "><span class="expand">+</span><span class="collapse">-</span><a href="/guide/plugins/" class="title">Core Plugin Concepts</a></div>
          <div id="plugins" class="subitems"><a href="/guide/plugins/#use" id="use" class="item secondary group-plugins">Accessing Utilities</a><a href="/guide/plugins/#flags" id="flags" class="item secondary group-plugins">Using Flags</a><a href="/guide/plugins/#assert" id="assert" class="item secondary group-plugins">Composing an Assertion</a>
          </div>
          <div id="helpers" class="item primary "><span class="expand">+</span><span class="collapse">-</span><a href="/guide/helpers/" class="title">Building a Helper</a></div>
          <div id="helpers" class="subitems"><a href="/guide/helpers/#add_language_chain" id="add_language_chain" class="item secondary group-helpers">Adding Language Chains</a><a href="/guide/helpers/#add_property" id="add_property" class="item secondary group-helpers">Adding Properties</a><a href="/guide/helpers/#add_method" id="add_method" class="item secondary group-helpers">Adding Methods</a><a href="/guide/helpers/#add_method_as_property" id="add_method_as_property" class="item secondary group-helpers">Methods as Properties</a><a href="/guide/helpers/#overwrite_language_chain" id="overwrite_language_chain" class="item secondary group-helpers">Overwriting Language Chains</a><a href="/guide/helpers/#overwrite_property" id="overwrite_property" class="item secondary group-helpers">Overwriting Properties</a><a href="/guide/helpers/#overwrite_method" id="overwrite_method" class="item secondary group-helpers">Overwriting Methods</a>
          </div>
          <div id="resources" class="item primary "><span class="expand">+</span><span class="collapse">-</span><a href="/guide/resources/" class="title">Resources</a></div>
          <div id="resources" class="subitems"><a href="/guide/resources/#help" id="help" class="item secondary group-resources">Getting Help</a><a href="/guide/resources/#contributor" id="contributor" class="item secondary group-resources">Contributing</a>
          </div>
        </nav>
        <div class="documentation">
          <div class="wrap">
            <div class="rendered">
              <div class="header"><h1 id="assertion-styles">Assertion Styles</h1>
<p>This section of the guide introduces you to the three different assertion styles that you may use
in your testing environment. Once you have made your selection, it is recommended that you look
at the API Documentation for your selected style.</p>
</div>
              <article id="assert-section"><h2 id="assert">Assert</h2>
<p><a href="/api/assert" class="clean-button">View full Assert API</a></p>
<p>The assert style is exposed through <code>assert</code> interface. This provides
the classic assert-dot notation, similiar to that packaged with
node.js. This assert module, however, provides several additional
tests and is browser compatible.</p>
<pre><code><span class="keyword">var</span> assert = require(<span class="string">'chai'</span>).assert
  , foo = <span class="string">'bar'</span>
  , beverages = { tea: [ <span class="string">'chai'</span>, <span class="string">'matcha'</span>, <span class="string">'oolong'</span> ] };

assert.typeOf(foo, <span class="string">'string'</span>); <span class="comment">// without optional message</span>
assert.typeOf(foo, <span class="string">'string'</span>, <span class="string">'foo is a string'</span>); <span class="comment">// with optional message</span>
assert.equal(foo, <span class="string">'bar'</span>, <span class="string">'foo equal `bar`'</span>);
assert.lengthOf(foo, <span class="number">3</span>, <span class="string">'foo`s value has a length of 3'</span>);
assert.lengthOf(beverages.tea, <span class="number">3</span>, <span class="string">'beverages has 3 types of tea'</span>);</code></pre>
<p>In all cases, the assert style allows you to include an optional message as the
last parameter in the <code>assert</code> statement. These will be included in the
error messages should your assertion not pass.</p>
</article>
              <article id="expect-section"><h2 id="bdd">BDD</h2>
<p><a href="/api/bdd" class="clean-button">View full BDD API</a></p>
<p>The BDD style comes in two flavors: <code>expect</code> and <code>should</code>. Both use the same
chainable language to construct assertions, but they differ in the way an
assertion is initially constructed. In the case of <code>should</code>, there are also
some caveats and additional tools to overcome the caveats. </p>
<h3 id="expect">Expect</h3>
<p>The BDD style is exposed through <code>expect</code> or <code>should</code> interfaces. In both
scenarios, you chain together natural language assertions.</p>
<pre><code><span class="keyword">var</span> expect = require(<span class="string">'chai'</span>).expect
  , foo = <span class="string">'bar'</span>
  , beverages = { tea: [ <span class="string">'chai'</span>, <span class="string">'matcha'</span>, <span class="string">'oolong'</span> ] };

expect(foo).to.be.a(<span class="string">'string'</span>);
expect(foo).to.equal(<span class="string">'bar'</span>);
expect(foo).to.have.length(<span class="number">3</span>);
expect(beverages).to.have.property(<span class="string">'tea'</span>).<span class="keyword">with</span>.length(<span class="number">3</span>);</code></pre>
<p>Expect also allows you to include arbitrary messages to prepend to any failed
assertions that might occur. </p>
<pre><code><span class="keyword">var</span> answer = <span class="number">43</span>;

<span class="comment">// AssertionError: expected 43 to equal 42.</span>
expect(answer).to.equal(<span class="number">42</span>); 

<span class="comment">// AssertionError: topic [answer]: expected 43 to equal 42.</span>
expect(answer, <span class="string">'topic [answer]'</span>).to.equal(<span class="number">42</span>);</code></pre>
<p>This comes in handy when being used with non-descript topics such as 
booleans or numbers.</p>
</article>
              <article id="should-section"><h3 id="should">Should</h3>
<p>The <code>should</code> style allows for the same chainable assertions as the
<code>expect</code> interface, however it extends each object with a <code>should</code>
property to start your chain. This style has some issues when used with Internet
Explorer, so be aware of browser compatibility. </p>
<pre><code><span class="keyword">var</span> should = require(<span class="string">'chai'</span>).should() <span class="comment">//actually call the function</span>
  , foo = <span class="string">'bar'</span>
  , beverages = { tea: [ <span class="string">'chai'</span>, <span class="string">'matcha'</span>, <span class="string">'oolong'</span> ] };

foo.should.be.a(<span class="string">'string'</span>);
foo.should.equal(<span class="string">'bar'</span>);
foo.should.have.length(<span class="number">3</span>);
beverages.should.have.property(<span class="string">'tea'</span>).<span class="keyword">with</span>.length(<span class="number">3</span>);</code></pre>
</article>
              <article id="differences-section"><h3 id="differences">Differences</h3>
<p>First of all, notice that the <code>expect</code> require is just a reference to the
<code>expect</code> function, whereas with the <code>should</code> require, the function is
being executed.</p>
<pre><code><span class="keyword">var</span> chai = require(<span class="string">'chai'</span>)
  , expect = chai.expect
  , should = chai.should();</code></pre>
<p>The <code>expect</code> interface provides a function as a starting point for chaining
your language assertions. It works on node.js and in all browsers.</p>
<p>The <code>should</code> interface extends <code>Object.prototype</code> to provide a single getter as
the starting point for your language assertions. It works on node.js and in
all modern browsers except Internet Explorer.</p>
</article>
              <article id="should-extras-section"><h3 id="should-extras">Should Extras</h3>
<p>Given that <code>should</code> works by extending <code>Object.prototype</code>, there are
some scenarios where <code>should</code> will not work. Mainly, if you are trying
to check the existence of an object. Take the following pseudocode:</p>
<pre><code>db.get(<span class="number">1234</span>, <span class="function"><span class="keyword">function</span> <span class="params">(err, doc)</span> {</span>
  <span class="comment">// we expect error to not exist</span>
  <span class="comment">// we expect doc to exist and be an object</span>
});</code></pre>
<p>Given that <code>err</code> should be null or undefined, <code>err.should.not.exist</code> is
not a valid statement as <code>undefined</code> and <code>null</code> haven&#39;t been extended
with a <code>should</code> chain starter. As such, the appropriate few assertions
for this scenario are as follows:</p>
<pre><code><span class="keyword">var</span> should = require(<span class="string">'chai'</span>).should();
db.get(<span class="number">1234</span>, <span class="function"><span class="keyword">function</span> <span class="params">(err, doc)</span> {</span>
  should.not.exist(err);
  should.exist(doc);
  doc.should.be.an(<span class="string">'object'</span>);
});</code></pre>
<p>Provided you assigned <code>should</code> to a var, you have access to several 
quick helpers to keep you out of trouble when using <code>should</code>.</p>
<ul>
<li><code>should.exist</code></li>
<li><code>should.not.exist</code></li>
<li><code>should.equal</code></li>
<li><code>should.not.equal</code></li>
<li><code>should.Throw</code></li>
<li><code>should.not.Throw</code></li>
</ul>
</article>
              <article id="configure-section"><h2 id="configuration">Configuration</h2>
<h3 id="config-includestack">config.includeStack</h3>
<ul>
<li><strong>@param</strong> <em>{Boolean}</em></li>
<li><strong>@default</strong> <code>false</code></li>
</ul>
<p>User configurable property, influences whether stack trace is included in 
Assertion error message. Default of <code>false</code> suppresses stack trace in the error 
message.</p>
<pre><code class="lang-javascript">chai.config.includeStack = <span class="literal">true</span>; <span class="comment">// turn on stack trace</span></code></pre>
<h3 id="config-showdiff">config.showDiff</h3>
<ul>
<li><strong>@param</strong> <em>{Boolean}</em></li>
<li><strong>@default</strong> <code>true</code></li>
</ul>
<p>User configurable property, influences whether or not the <code>showDiff</code> flag 
should be included in the thrown AssertionErrors. <code>false</code> will always be <code>false</code>; 
<code>true</code> will be true when the assertion has requested a diff be shown.</p>
<pre><code class="lang-javascript">chai.config.showDiff = <span class="literal">false</span>; <span class="comment">// turn off reporter diff display</span></code></pre>
<h3 id="config-truncatethreshold">config.truncateThreshold</h3>
<ul>
<li><strong>@param</strong> <em>{Number}</em></li>
<li><strong>@default</strong> <code>40</code></li>
</ul>
<p>User configurable property, sets length threshold for actual and expected values 
in assertion errors. If this threshold is exceeded, the value is truncated.</p>
<p>Set it to zero if you want to disable truncating altogether.</p>
<pre><code class="lang-javascript">chai.config.truncateThreshold = <span class="number">0</span>; <span class="comment">// disable truncating</span></code></pre>
</article>
            </div>
          </div>
        </div>
      </section>
    </div>
    <footer>
      <section id="footer">
        <div class="branding"> 
          <h3 class="fancy"><a href="#">Chai Assertion Library</a></h3>
        </div>
        <div class="list">
          <ul>
            <li><a href="/guide/installation/">Installation</a></li>
            <li><a href="/guide/styles/">Interface Styles</a></li>
            <li><a href="/guide/plugins/">Developing Plugins</a></li>
          </ul>
        </div>
        <div class="list">
          <ul>
            <li><a href="/api/bdd/">Expect / Should API</a></li>
            <li><a href="/api/assert/">Assert API</a></li>
            <li><a href="/api/plugins/">Plugin Utility API</a></li>
          </ul>
        </div>
        <div class="list">
          <ul>
            <li><a href="/guide/resources/">Getting Help</a></li>
            <li><a href="/api/test/">Test Suite</a></li>
            <li><a href="https://github.com/chaijs/chai/blob/master/History.md" target="_blank">Changelog</a></li>
          </ul>
        </div>
        <div class="list">
          <ul>
            <li><a href="https://github.com/chaijs/chai/issues" target="_blank">Issues</a></li>
            <li><a href="http://groups.google.com/group/chaijs" target="_blank">Google Group</a></li>
            <li><a href="http://travis-ci.org/#!/chaijs/chai" target="_blank">Build Status</a></li>
          </ul>
        </div>
      </section>
    </footer>
  </body>
</html>